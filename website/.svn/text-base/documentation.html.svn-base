<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Documentation</title><link rel="stylesheet" type="text/css" href="detail_page.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><script type="text/javascript">
        if (window == top) {
            var url = 'window.location.replace("index.html?detail_page=' + window.location.href + '")';
            eval(url);
        }
    </script><div class="section" title="Documentation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tools_documentation"></a>Documentation</h2></div></div><hr></div><p>Documentation of software libraries and APIs has a well deserved
  reputation for being incomplete and hard to use. Personally, I had a lot of
  difficulty making documentation for the Boost Serialization Library. The
  following opinions are the the result of this and other experience.</p><div class="section" title="Boost Documentation Tools"><div class="titlepage"><div><div><h3 class="title"><a name="id9263702"></a>Boost Documentation Tools</h3></div></div></div><p>Boost library documentation must be delivered in the form of HTML
    pages. This is the common denominator that permits the library
    documentation to be easily consulted on the web as well as locally. The
    library directory structure includes a directory labeled HTML for this
    purpose. The generation of these pages is left to the library author.
    There are various ways to do this.</p><div class="section" title="HTML"><div class="titlepage"><div><div><h4 class="title"><a name="id9232890"></a>HTML</h4></div></div></div><p>One can just prepare the pages with a simple text editor. In many
      cases this is the simplest to do and many libraries have been documented
      in this manner. The main disadvantage is that PDF (and maybe others)
      can't be prepared from the HTML pages. Also as the library gets larger,
      it becomes tedious to keep everything in sync.</p></div><div class="section" title="BoostBook"><div class="titlepage"><div><div><h4 class="title"><a name="id9239838"></a>BoostBook</h4></div></div></div><p><a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/boostbook.html" target="_top">BoostBook</a>
      is an extension of <a class="ulink" href="???" target="_top">DocBook</a>. The workflow
      is:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/boostbook/getting/started.html" target="_top">Install
          DocBook</a></p></li><li class="listitem"><p>Edit documentation files in XML format with a text editor. The
          XML should follow the rules <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/boostbook/documenting.html" target="_top">prescribed
          for BoostBook</a></p></li><li class="listitem"><p>Generating of HTML/PDF files from the BoostBook XML depends
          upon the <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/bbv2.html" target="_top">Boost
          Build</a> system. This in turn entails (as far as I can tell)
          updating one's local copy of the $BOOST_ROOT/doc directory and then
          running Boost bjam.</p></li><li class="listitem"><p>The generated documentation will appear in the
          $BOOST_ROOT/doc/html directory.</p></li></ul></div><p>There is lot's to like about BoostBook.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The DocBook/BoostBook concept of structuring content and
          de-coupling it from presentation is sound.</p></li><li class="listitem"><p>The system can produce documentation in HTML and in PDF as
          well as potentially other formats.</p></li><li class="listitem"><p>Presentation is attractive, consistent and unified across
          different rendering formats.</p></li><li class="listitem"><p>BootBook defines a large group of XML tags which can be used
          characterize elements in C++ documentation. These includes things
          like function name, const, etc. etc. Potentially these could be used
          to generate useful things like function cross references and the
          like, syntax coloring and the like.</p></li><li class="listitem"><p>The documentation for BoostBook is pretty good. It is created
          as an extension to DocBook. As such, it leverages on the extensive
          documentation available for that system.</p></li></ul></div><p>On the other hand, there's a lot to dislike as well:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Editing XML is a royal pain. In part its just the ugliness and
          verbosity. XML documents are edited according to a set of grammar
          rules specified in a DTD or Schema. As BoostBook is derived from
          DocBook, it inherits all the rules from DocBook, and add more of
          it's own. These rules are enforced by the build system so the author
          has to get them right. This turns out to be quite an effort since
          the rules are quite detailed an elaborate.</p></li><li class="listitem"><p>Though BoostBook specifies a large collection of tags to
          characterize documentation elements, the large majority of these are
          not used by the BoostBook system. It seems that that they've been
          included in the hopes of being available for future use. This would
          be OK except for the fact that the attaching all these tags to one's
          documentation would be a huge job - which would yield no benefit
          with the current document preparation system.</p><p>It's not clear from the BoostBook documentation which tags are
          used/useful and which should not be bothered with. This leaves one
          with questions about under what circumstances each tag should be
          used.</p></li><li class="listitem"><p>Building HTML/PDF files from BoostBook XML files requires
          threading your library into your local Boost directory hierarchy,
          learning about how to configure and run BoostBuild, using the
          HTML/PDF which is left somewhere else in the local Boost directory.
          That is, conversion of documents in intimately coupled with
          BoostBuild. I understand the appeal of this for those whose task it
          it to deploy Boost as a monolithic software package. And it may be
          OK for those whose docmentation is done and already checked into the
          Boost directory, But for the rest of us, its very unwieldy.</p></li></ul></div></div><div class="section" title="Doxygen"><div class="titlepage"><div><div><h4 class="title"><a name="id9246965"></a>Doxygen</h4></div></div></div><p><a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a>
      is a system for generating documentation of class and function types by
      scanning the progrogram code along with from enhanced comments included
      by the author.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Clearly it's been influenced by <a class="ulink" href="http://en.wikipedia.org/wiki/Literate_programming" target="_top">Literate
          Programming</a> concepts.. This looks like a good thing to
          me.</p></li><li class="listitem"><p><a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a> works
          pretty much as advertised.</p></li><li class="listitem"><p>The <a class="ulink" href="???" target="_top">BoostBook</a>/BoostBuild process can
          incorporate XML output produced by <a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a>. And a
          number of boost libraries have successfulliy incorporated the files
          it generates in their documentation.</p></li><li class="listitem"><p>Using <a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a> to get a
          specific kind of output requires setting the right combination of
          configuration options (There are scores of these) and including
          special comments in the source code.</p></li><li class="listitem"><p>A lot of the <a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a>
          generated documentation I've seen seems just to do little more than
          paraphrase the code. After spending some time experimenting with it,
          I've come to believe that this is likely in large part due to the
          manner that <a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">Doxygen</a> has been
          used. One might be able to generate the documentation I want, but it
          would require a lot of effort in tweaking the configuration and the
          program comments.</p></li></ul></div></div><div class="section" title="Quickbook"><div class="titlepage"><div><div><h4 class="title"><a name="id9239645"></a>Quickbook</h4></div></div></div><p>The principle disadvantage of <a class="ulink" href="???" target="_top">BoostBook</a>
      is that editing XML in accordance with BoostBook rules is very tedious.
      To address this issue, <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/quickbook.html" target="_top">QuickBook</a>
      was created. It has it own, much simpler, set of syntax rules for
      creating documentation. <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/quickbook.html" target="_top">QuickBook</a>
      files are created with any text editor. The output from QuickBook is XML
      which follows the BoostBook rules. This output is processed as would any
      <a class="ulink" href="???" target="_top">BoostBook</a> XML would be. <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/quickbook.html" target="_top">QuickBook</a>
      has been popular. Approximately 1/3 of the boost libraries use it. Of
      course that's another way of saying that 2/3 of the libraries don't use
      it. I sill has a few disadvantages:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>It's not a WYSIWYG editor.</p></li><li class="listitem"><p>It's yet another "little language" to learn.</p></li><li class="listitem"><p>Like many "little languages" it's not that easy to extend if
            you want to do something that it doesn't already include. Adding a
            feature means understanding the source, modification and
            recompiling.</p></li><li class="listitem"><p>I didn't see a way to get what I really want - see
            below.</p></li></ul></div></div></div><div class="section" title="Creating BoostBook Documentation with XMLMind"><div class="titlepage"><div><div><h3 class="title"><a name="id9253352"></a>Creating BoostBook Documentation with XMLMind</h3></div></div></div><p>Here's my personal wishlist - in no particular order - for a
    documentation system for C++ libraries.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A system which separates content from presentation so the same
        files can be used to generate documentaion as web pages, PDF files,
        and perhaps other formats such as htmlhelp and ePub.</p><p>This requirment is fullfilled by using <a class="ulink" href="???" target="_top">BoostBook</a> with not changes. A small additional XSLT
        styling sheet is employed to interface with the rest of the
        system.</p></li><li class="listitem"><p>An easy to use WYSISWYG editor which</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>works in all environments.</p></li><li class="listitem"><p>shows the document structure.</p></li><li class="listitem"><p>gives a good idea what the final presentation will look
            like.</p></li><li class="listitem"><p>guarentees that docments respect structure requirements. For
            example, it should prohibit the creation of a table row anywhere
            but inside a table.</p></li><li class="listitem"><p>Includes facilities for specification of document elements
            such as program listings, tables, etc.</p></li><li class="listitem"><p>Permits the creation of "templates" of premade document
            fragments which can be inserted into the document and then
            modified. Basically I want to include the "template" for Type and
            then use it as a form to fill in the specific information for some
            type.</p></li><li class="listitem"><p>includes a spelling checker</p></li></ul></div><p>This requirement is fullfilled is <a class="ulink" href="http://www.xmlmind.com/" target="_top">XMLMind</a> - a free XML editor.
        This beatifully made product permits one to add his own XML syntax
        checking files (DTD files). I've added files to enforce the extra
        rules that <a class="ulink" href="???" target="_top">BoostBook</a> requires. I've also
        added some "templates" for C++ library documentation elements:
        library, concept, type, and function. So one can build his
        documentation from within the editor by adding in hte standard
        templates and "filling in the blanks". This will go a long way to
        making "formal documentation" with a minimum of effort.</p></li><li class="listitem"><p>A simple system for generating the various required
        documentation formats from the edited source.</p><p>I've addressed this by creating some custom XSLT stylesheets
        which extend the standard <a class="ulink" href="???" target="_top">BoostBook</a> ones.
        These just remove the requirement that the XML files be part of the
        standard Boost Source tree. Finally, I've set up a directory
        containing all the DocBook stuff so that I can create HTML
        documentation with a three line batch file. This has made my
        documentation system usable without using BoostBuild and without
        having to make a source tree which looks like boost. Finally, the
        generated pages use the same "look and feel" as the <a class="ulink" href="???" target="_top">BoostBook</a> generated pages.</p></li></ul></div><div class="figure"><a name="id9243563"></a><p class="title"><b>Figure 1. XML Mind Screenshot</b></p><div class="figure-contents"><div class="informalfigure"><div class="screenshot"><div class="mediaobject"><img src="XMLMindScreenshot.jpg" alt="XML Mind Screenshot"></div></div></div></div></div><br class="figure-break"><p>Setup <a class="ulink" href="???" target="_top">BoostBook</a> and XSLT.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure the Boost Libraries and Tools are installed.</p></li><li class="listitem"><p>Setup BoostBook and XSLT.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Setup BoostBook according to these <a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/boostbook/getting/started.html" target="_top">instructions</a></p></li><li class="listitem"><p>Follow the procedure in <span class="emphasis"><em>Configuring
            xsltproc</em></span></p></li><li class="listitem"><p>Follow the procedure in <span class="emphasis"><em>Configuring local DocBook
            XSL and DTD distributions</em></span></p></li><li class="listitem"><p>You should now have a designated directory with the DocBook
            XSL and DTD distributions installed.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Set the Shell/Bat variable <code class="code">DOCBOOK</code> to point
                to the directory.</p></li></ul></div></li><li class="listitem"><p>Copy <code class="filename"><a class="ulink" href="catalog.xml" target="_top">catalog.xml</a></code> to this
            directory.</p></li><li class="listitem"><p>Set the Shell/Bat variable XML_CATALOG_FILES to point to the
            above file:</p></li></ul></div></li></ol></div><p>Setup XMLMind with BoostBook configuration extension</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><a class="ulink" href="http://www.xmlmind.com/xmleditor/download.shtml" target="_top"><a class="ulink" href="???" target="_top">Download and Install</a></a> the free personal
        edition of <a class="ulink" href="http://www.xmlmind.com/" target="_top">XMLMind</a>.</p></li><li class="listitem"><p>Download <code class="filename"><a class="ulink" href="boostbook.zip" target="_top">boostboook.zip</a></code> temporary
        directory. This contains a custom configuration for XMLMind to
        facilitate the editing of <a class="ulink" href="???" target="_top">BoostBook</a>
        documenation.</p></li><li class="listitem"><p>UnZip this file into the XMLMind program directory. This
        directory should look like:</p><pre class="programlisting">addon
  config
    boostbook.css
    boostbook.dtd
    boostbook.xxe
    boostbookcatalog.xml
    template
      concept.xml
      function.xml
      library.xml
      metafunction.xml
      section.xml
      type.xml

    </pre></li><li class="listitem"><p>Verify that XMLMind is properly configured by invoking
        File-&gt;New shows <img src="NewScreenShot.jpg"></p></li></ol></div><p>At this point, one should be able to create BoostBook based
    documentation with the XMLMind editor.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Editing with XMLMind takes some getting used to. It does feel
          quite unwieldy at first.</p></li><li class="listitem"><p>To get the hang of it, practice editing the BoostBook
          documentation for a library you've already downloaded. Note the the
          safe_numerics demo library documentation has been prepared with this
          system so it would be a good candidate to practice with.</p></li><li class="listitem"><p>XMLMind is very well docmented and explained - including
          videos! - check though all this information.</p></li><li class="listitem"><p>Ideally one would be totally insulated from details of
          DocBook/BoostBook. Unfortunately, one still has to know something
          about these packages. Here is a list of links which contain useful
          information.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p><a class="ulink" href="http://www.boost.org/doc/libs/1_49_0/doc/html/boostbook/documenting.html" target="_top">Documenting
              Libraries with BoostBook</a></p></li><li class="listitem"><p><a class="ulink" href="http://xml.web.cern.ch/XML/goossens/dbatcern/index.htm" target="_top">Writing
              Documenatation Using DocBook</a></p></li><li class="listitem"><p><a class="ulink" href="http://infohost.nmt.edu/tcc/help/pubs/docbook/web/index.html" target="_top">Writing
              Documentaion With DocBook 4.3</a></p></li><li class="listitem"><p><a class="ulink" href="http://www.oasis-open.org/docbook/documentation/reference/html/docbook.html" target="_top">DocBook
              4 - The Definitive Guide</a></p></li></ul></div></li><li class="listitem"><p>Any XML editor is at it's root a system for editing a very
          elaborate tree of nexted XML elements can be very, very tedious. For
          this reason, it's very help to use cut/paste of "branches" which are
          already complete. This speeds up the process considerably for things
          like tables, etc.</p></li><li class="listitem"><p>Lookup the "node selection bar" in the XMLMind help. This is
          key to understanding where you are in the the node tree.</p></li><li class="listitem"><p>Edit in WYSIWYG mode. This guarentees that your document
          follows that BoostBook Document Type Definition and that the
          BoostBook Tool chain will produce Boost conformant
          documentation.</p></li><li class="listitem"><p>Make your documentation as a "Modular Document". Use
          safe_numerics as an example and lookup the XMLMind help that shows
          how to do this.</p></li><li class="listitem"><p>Using all of the above, the process of making library
          documentation can be summarized as:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>File-&gt;New and select <span class="emphasis"><em>library</em></span> to
              create a new document. This will be a "skeleton" of the
              documentation for your library.</p></li><li class="listitem"><p>Each time you create a new concept, type, or function,
              invoke File-&gt;New and select the appropriate template. This
              will create a new document of the selected type and make it
              ready to edit.</p></li><li class="listitem"><p>Edit the contents of each created template and save it
              under it's unique file name.</p></li><li class="listitem"><p>Link each newly created document into the library document
              using the procedure described in the XMLMind help.</p></li><li class="listitem"><p>Delete any unneeded sections and Add any required new ones
              as appropriate.</p></li></ul></div></li></ul></div></div><div class="section" title="Rendering Documentation"><div class="titlepage"><div><div><h3 class="title"><a name="id9238546"></a>Rendering Documentation</h3></div></div></div><p>Once library documentation has been created in BoostBook/DocBook
    format we can render it in a variety of formats. This is done with the
    BoostBook toolset. In the official Boost distribution, this is done with
    BoostBuild. We use a simpler more transparent method. Creating HTML
    documentation is a two step process using xslt.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Translate BoostBook XML to DocBook XML xsl stylesheets</p></li><li class="listitem"><p>Translate the resulting DocBook XML to HTML standard DocBook
        style sheets.</p></li></ol></div><p>These command accomplish the above</p><pre class="programlisting">xsltproc --nonet --xinclude bb2db.xsl safe_numerics.xml |
xsltproc --nonet db2html.xsl -</pre><p>In addition, we need to copy a few files from the boost
    installation. The following files should be copied to the html directory
    from the boost root directory.</p><p><code class="filename">doc/src/boostbook.css </code>// cascaded style sheet
    to give boost "look and feel"</p><p><code class="filename">doc/html/images</code> // directory of images for
    arrows, etc.</p><p>and finally you should add to the html directory a file named
    <code class="filename">pre-boost.jpg</code>. After all this, the html documentation
    director structure should look like the following</p><pre class="programlisting">doc
  html
    boostbook.css
    html files ....
    images
        png files ...
  boostbook
    xml files containing boost book documentation
    makehtml.bat/sh // macro which creates html</pre></div></div></body></html>
